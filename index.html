<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>一个想要给ttx表白的网站</title>
    <script src="https://cdn.bootcss.com/react/15.4.2/react.min.js"></script>
    <script src="https://cdn.bootcss.com/react/15.4.2/react-dom.min.js"></script>
    <script src="https://cdn.bootcss.com/babel-standalone/6.22.1/babel.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css"/>
</head>
<body>
<div id="example"></div>
<script type="text/babel">
const LikeButton = React.createClass({
    getInitialState: function() {
        return {
            text:["很高兴认识ttx!"],
            bottom:[
                ["此选项不可选~","哇我也是!"],
                ["不想听","好的你讲吧"],
            ],
            bottomtext:["此选项不可选~","哇我也是很高兴认识nry！"],
            initial:0,
            isShow:[true,false,false,false]
        };

    },
    handleClickLeft: function (event) {
        if(this.state.initial == 1) {
            const textadd = this.state.text;
            textadd.push(this.state.bottomtext[0]);
            textadd.push("哭/(ㄒoㄒ)/~~");
            this.setState({text: textadd});
            const bottomtextadd = ["", "哈哈逗你的,听，你讲吧"];
            this.setState({bottomtext: bottomtextadd});
            this.setState({initial: 2})
        } else if(this.state.initial == 2) {
            const textadd = this.state.text;
            textadd.push(this.state.bottomtext[0]);
            textadd.push("哭！");
            this.setState({text: textadd});
            const bottomtextadd = ["啊啊啊我不听不听", "逗你的，喜欢你！"];
            this.setState({bottomtext: bottomtextadd});
            this.setState({initial: 3})
        }
    },
    handleClick: function(event) {
        if(this.state.initial == 0) {
            const textadd = this.state.text;
            textadd.push(this.state.bottomtext[1]);
            textadd.push("哈哈我要介绍一下自己吗？");
            this.setState({text: textadd});
            const bottomtextadd = ["不想听", "好的你讲吧"];
            this.setState({bottomtext: bottomtextadd});
            this.setState({initial: 1})
        } else if(this.state.initial ==1) {
            const textadd = this.state.text;
            textadd.push(this.state.bottomtext[1]);
            textadd.push("我叫nry，生日是1997.01.29，最喜欢的语言是JavaScript，最喜欢的颜色是粉色，性格比较活泼开朗，最近愁的是毕设，" +
                "emm喜欢ttx哦");
            this.setState({text: textadd});
            const bottomtextadd = ["哦我不喜欢你!", "为啥喜欢我?"];
            this.setState({bottomtext: bottomtextadd});
            this.setState({initial: 2})
        } else if(this.state.initial == 2) {
            const textadd = this.state.text;
            textadd.push(this.state.bottomtext[1]);
            textadd.push("喜欢程序员，喜欢干净白皙温柔的男生[⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄]");
            this.setState({text: textadd});
            const bottomtextadd = ["哦酱紫!", "我也挺喜欢你的"];
            this.setState({bottomtext: bottomtextadd});
            this.setState({initial: 3})
        } else if(this.state.initial == 3) {
            const textadd = this.state.text;
            textadd.push(this.state.bottomtext[1]);
            textadd.push("哈哈哈嗯呢！！那快告诉我啊~");
            this.setState({text: textadd});
            const bottomtextadd = ["唔", "嗯呢好的吧"];
            this.setState({bottomtext: bottomtextadd});
            this.setState({initial: 4})
        }
    },
    render: function() {
        const bottomtext = this.state.bottomtext;
        const text = this.state.text;
        return (
            <div className="main">
                <div className="img">
                </div>
                <div className="imgt">

                </div>
                <div className="contain">
                    <div className="top">
                        与nry聊天中
                    </div>
                    <div className="center">
                        { text.map(function(textitem,index) {
                                if(index%2==0){
                                    return <div className="text-left">{textitem}
                                    </div>
                                } else {
                                    return <div className="text-right">{textitem}</div>
                                }
                            })
                        }
                    </div>
                    <div className="bottom">
                        <div className="bottom-left" onClick={this.handleClickLeft}>
                            {bottomtext[0]}
                        </div>
                        <div className="bottom-right" onClick={this.handleClick}>{bottomtext[1]}</div>
                    </div>
                </div>
            </div>
        );
    },
});

ReactDOM.render(
        <LikeButton />,
    document.getElementById('example')
);
</script>
</body>
</html>